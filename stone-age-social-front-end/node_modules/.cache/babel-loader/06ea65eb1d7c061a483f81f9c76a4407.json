{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  followingAccounts: null,\n  followerAccounts: null\n};\nexport const getFollowingAccounts = createAsyncThunk(\"/api/v1/users/getfollowing\", async thunkAPI => {\n  const response = await axios({\n    method: \"post\",\n    url: \"/api/v1/users/getfollowing\",\n    headers: {\n      Authorization: localStorage.getItem(\"psnToken\")\n    },\n    data: {\n      id: localStorage.getItem(\"psnUserId\")\n    }\n  });\n  return response.data.payload;\n});\nexport const getFollowerAccounts = createAsyncThunk(\"/api/v1/users/getfollower\", async thunkAPI => {\n  const response = await axios({\n    method: \"post\",\n    url: \"/api/v1/users/getfollower\",\n    headers: {\n      Authorization: localStorage.getItem(\"psnToken\")\n    },\n    data: {\n      id: localStorage.getItem(\"psnUserId\")\n    }\n  });\n  return response.data.payload;\n});\nexport const getAllAccounts = createAsyncThunk(\"/api/v1/users\", async thunkAPI => {\n  const response = await axios({\n    method: \"post\",\n    url: \"/api/v1/users\",\n    headers: {\n      Authorization: localStorage.getItem(\"psnToken\")\n    }\n  });\n  return response.data.payload;\n});\nexport const unfollowAccount = createAsyncThunk(\"/api/v1/users/unfollow\", async (_ref, thunkAPI) => {\n  let {\n    followedId,\n    followerId\n  } = _ref;\n  const response = await axios({\n    method: \"post\",\n    url: \"/api/v1/users/unfollow\",\n    headers: {\n      Authorization: localStorage.getItem(\"psnToken\")\n    },\n    data: {\n      id1: followedId,\n      id2: followerId\n    }\n  });\n  return response.data.payload;\n});\nexport const followAccount = createAsyncThunk(\"/api/v1/users/follow\", async (_ref2, thunkAPI) => {\n  let {\n    followedId,\n    followerId\n  } = _ref2;\n  const response = await axios({\n    method: \"post\",\n    url: \"/api/v1/users/follow\",\n    headers: {\n      Authorization: localStorage.getItem(\"psnToken\")\n    },\n    data: {\n      id1: followedId,\n      id2: followerId\n    }\n  });\n  return response.data.payload;\n});\nexport const followingAccountSlice = createSlice({\n  name: \"getFollowingAccountSlice\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getFollowingAccounts.fulfilled, (state, action) => {\n      state.followingAccounts = action.payload;\n    });\n    builder.addCase(getFollowerAccounts.fulfilled, (state, action) => {\n      state.followerAccounts = action.payload;\n    });\n    builder.addCase(unfollowAccount.fulfilled, (state, action) => {\n      state.followingAccounts = state.followingAccounts.filter(item => item.id !== action.payload.id);\n    });\n    builder.addCase(followAccount.fulfilled, (state, action) => {});\n    builder.addCase(getAllAccounts.fulfilled, (state, action) => {\n      state.followerAccounts = action.payload;\n    });\n  }\n});\nexport default followingAccountSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","followingAccounts","followerAccounts","getFollowingAccounts","thunkAPI","response","method","url","headers","Authorization","localStorage","getItem","data","id","payload","getFollowerAccounts","getAllAccounts","unfollowAccount","_ref","followedId","followerId","id1","id2","followAccount","_ref2","followingAccountSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","filter","item","reducer"],"sources":["C:/Users/dell/Desktop/alx_portfolio/Stone_age_social_platform/social-media-app-frontend/src/feature/followingAccounts/followingAccountSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n  followingAccounts: null,\n  followerAccounts: null,\n};\n\nexport const getFollowingAccounts = createAsyncThunk(\n  \"/api/v1/users/getfollowing\",\n  async (thunkAPI) => {\n    const response = await axios({\n      method: \"post\",\n      url: \"/api/v1/users/getfollowing\",\n      headers: {\n        Authorization: localStorage.getItem(\"psnToken\"),\n      },\n      data: {\n        id: localStorage.getItem(\"psnUserId\"),\n      },\n    });\n\n    return response.data.payload;\n  }\n);\n\nexport const getFollowerAccounts = createAsyncThunk(\n  \"/api/v1/users/getfollower\",\n  async (thunkAPI) => {\n    const response = await axios({\n      method: \"post\",\n      url: \"/api/v1/users/getfollower\",\n      headers: {\n        Authorization: localStorage.getItem(\"psnToken\"),\n      },\n      data: {\n        id: localStorage.getItem(\"psnUserId\"),\n      }\n    });\n    return response.data.payload;\n  }\n);\n\nexport const getAllAccounts = createAsyncThunk(\n  \"/api/v1/users\",\n  async (thunkAPI) => {\n    const response = await axios({\n      method: \"post\",\n      url: \"/api/v1/users\",\n      headers: {\n        Authorization: localStorage.getItem(\"psnToken\"),\n      },\n    });\n    return response.data.payload;\n  }\n);\n\nexport const unfollowAccount = createAsyncThunk(\n  \"/api/v1/users/unfollow\",\n  async ({followedId, followerId}, thunkAPI) => {\n    const response = await axios({\n      method: \"post\",\n      url: \"/api/v1/users/unfollow\",\n      headers: {\n        Authorization: localStorage.getItem(\"psnToken\"),\n      },\n      data: {\n        id1: followedId,\n        id2: followerId,\n      },\n    });\n    return response.data.payload;\n  }\n);\n\nexport const followAccount = createAsyncThunk(\n  \"/api/v1/users/follow\",\n  async ({followedId, followerId}, thunkAPI) => {\n    const response = await axios({\n      method: \"post\",\n      url: \"/api/v1/users/follow\",\n      headers: {\n        Authorization: localStorage.getItem(\"psnToken\"),\n      },\n      data: {\n        id1: followedId,\n        id2: followerId,\n      }\n    });\n    return response.data.payload;\n  }\n);\n\nexport const followingAccountSlice = createSlice({\n  name: \"getFollowingAccountSlice\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getFollowingAccounts.fulfilled, (state, action) => {\n      state.followingAccounts = action.payload;\n    });\n    builder.addCase(getFollowerAccounts.fulfilled, (state, action) => {\n      state.followerAccounts = action.payload;\n    });\n    builder.addCase(unfollowAccount.fulfilled, (state, action) => {\n      state.followingAccounts = state.followingAccounts.filter((item) => item.id !== action.payload.id);\n    });\n    builder.addCase(followAccount.fulfilled, (state, action) => {\n    });\n    builder.addCase(getAllAccounts.fulfilled, (state, action) => {\n      state.followerAccounts = action.payload;\n    });\n  },\n});\n\nexport default followingAccountSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}